<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Athlete Performance Log | The Streak Lab</title>
    <meta name="description" content="Centralized performance tracking for masters athletes. Monitor strength, aerobic capacity, and body composition streaks.">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Streak Lab Performance Dashboard",
      "operatingSystem": "All",
      "applicationCategory": "HealthApplication",
      "description": "Aggregation dashboard for masters athlete performance metrics including VO2 Max, FFMI, and Strength Stratification.",
      "author": {
        "@type": "Organization",
        "name": "Academic Athlete Lab"
      }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@900&display=swap');
        body { background-color: #050505; color: #fff; font-family: 'Space Mono', monospace; -webkit-font-smoothing: antialiased; }
        .safety-green { color: #22c55e; }
        .bg-green { background-color: #22c55e; }
        .glass-card { background: #111; border: 1px solid #222; }
        .nav-link { font-size: 10px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.2em; }
        .metric-value { font-family: 'Inter', sans-serif; font-weight: 900; font-style: italic; }
    </style>
</head>
<body class="min-h-screen flex flex-col" onload="loadDashboard()">

<header class="p-6 border-b border-neutral-900 bg-black">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
        <h1 class="text-xl font-black tracking-tighter safety-green italic uppercase">ACADEMIC<span class="text-white">ATHLETE</span>LAB</h1>
        <div class="text-[10px] font-bold text-neutral-500 uppercase tracking-widest">Streak Lab v1.0</div>
    </div>
</header>

<nav class="bg-black border-b border-neutral-900 py-4 px-6 sticky top-0 z-[100] backdrop-blur-md bg-black/80 overflow-x-auto">
    <div class="max-w-6xl mx-auto flex gap-6 md:gap-8 whitespace-nowrap">
        <a href="index.html" class="nav-link text-neutral-500 hover:text-white transition-colors">1RM Lab</a>
        <a href="functional-age.html" class="nav-link text-neutral-500 hover:text-white transition-colors">Age Lab</a>
        <a href="ffmi-lab.html" class="nav-link text-neutral-500 hover:text-white transition-colors">FFMI Lab</a>
        <a href="protein-lab.html" class="nav-link text-neutral-500 hover:text-white transition-colors">Protein Lab</a>
        <a href="vo2-lab.html" class="nav-link text-neutral-500 hover:text-white transition-colors">VO2 Lab</a>
        <a href="athlete-lab.html" class="nav-link text-green-500 border-b-2 border-green-500 pb-1">Log</a>
    </div>
</nav>

<main class="max-w-6xl mx-auto p-6 md:p-12 w-full">
    <header class="mb-12 flex justify-between items-end">
        <div>
            <div class="inline-block bg-green text-black px-4 py-1 font-black italic text-2xl uppercase mb-4">Performance Command</div>
            <p class="text-neutral-500 text-[10px] tracking-[0.4em] uppercase">Aggregated Athlete Metrics</p>
        </div>
        <button onclick="clearLogs()" class="text-[9px] text-neutral-700 hover:text-red-500 transition-colors uppercase font-bold tracking-widest mb-1">Reset All Data</button>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
        <div class="glass-card p-6 rounded-3xl border-t-4 border-red-500">
            <span class="text-[9px] text-neutral-500 uppercase font-bold tracking-widest">VO2 Max (Aerobic)</span>
            <div id="log-vo2" class="text-4xl metric-value text-white mt-2">--</div>
            <p class="text-[10px] text-neutral-600 mt-2 uppercase">Status: <span id="log-vo2-cat" class="text-red-500">No Data</span></p>
        </div>

        <div class="glass-card p-6 rounded-3xl border-t-4 border-blue-500">
            <span class="text-[9px] text-neutral-500 uppercase font-bold tracking-widest">FFMI (Muscle Mass)</span>
            <div id="log-ffmi" class="text-4xl metric-value text-white mt-2">--</div>
            <p class="text-[10px] text-neutral-600 mt-2 uppercase">Status: <span id="log-ffmi-cat" class="text-blue-500">No Data</span></p>
        </div>

        <div class="glass-card p-6 rounded-3xl border-t-4 border-purple-500">
            <span class="text-[9px] text-neutral-500 uppercase font-bold tracking-widest">Daily Protein Target</span>
            <div id="log-protein" class="text-4xl metric-value text-white mt-2">--<span class="text-sm">G</span></div>
            <p class="text-[10px] text-neutral-600 mt-2 uppercase">TDEE: <span id="log-tdee" class="text-purple-500">--</span></p>
        </div>
    </div>

    <section class="glass-card p-8 rounded-3xl mb-12 overflow-hidden relative">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-xs font-bold uppercase safety-green tracking-widest italic">Longevity Streak</h3>
            <div class="flex gap-2">
                <div class="w-3 h-3 bg-green-500 rounded-sm"></div>
                <div class="w-3 h-3 bg-neutral-800 rounded-sm"></div>
            </div>
        </div>
        
        <div class="flex gap-1 md:gap-2 justify-between">
            <script>
                for(let i=0; i<30; i++) {
                    const opacity = Math.random() > 0.3 ? 'bg-green-500' : 'bg-neutral-900';
                    document.write(`<div class="flex-1 h-12 ${opacity} rounded-sm opacity-80"></div>`);
                }
            </script>
        </div>
        <p class="text-[9px] text-neutral-600 mt-4 uppercase tracking-widest italic">Performance consistency tracking (Last 30 Days)</p>
    </section>

    <section class="grid md:grid-cols-2 gap-10 text-left">
        <div class="space-y-4">
            <h4 class="text-[10px] font-black uppercase text-white tracking-[0.3em]">Systemic Summary</h4>
            <p id="systemic-summary" class="text-xs text-neutral-500 leading-relaxed italic">Input data in the specialized labs to generate your systemic athlete profile.</p>
        </div>
        <div class="p-6 bg-neutral-900/30 rounded-2xl border border-neutral-800">
            <p class="text-[9px] font-bold uppercase tracking-[0.2em] mb-2 text-neutral-500">Academic Note:</p>
            <p class="text-[10px] text-neutral-600 leading-relaxed italic">This dashboard aggregates data from local storage. No health data is transmitted to external servers. Your performance privacy is hardware-locked.</p>
        </div>
    </section>
</main>

<script>
    function loadDashboard() {
        // Retrieve data from various labs
        const vo2 = localStorage.getItem('athleteVO2') || '--';
        const vo2Cat = localStorage.getItem('athleteVO2Cat') || 'Incomplete';
        const ffmi = localStorage.getItem('athleteFFMI') || '--';
        const ffmiCat = localStorage.getItem('athleteFFMICat') || 'Incomplete';
        const weight = localStorage.getItem('athleteWeight');
        
        // Protein data is calculated on the fly if weight exists
        let proteinDisplay = '--';
        let tdeeDisplay = '--';
        if(weight) {
            const weightKg = localStorage.getItem('athleteUnit') === 'KG' ? weight : weight * 0.453592;
            proteinDisplay = `${Math.round(weightKg * 1.8)}-${Math.round(weightKg * 2.2)}`;
            tdeeDisplay = 'Active';
        }

        // Update UI
        document.getElementById('log-vo2').innerText = vo2;
        document.getElementById('log-vo2-cat').innerText = vo2Cat;
        document.getElementById('log-ffmi').innerText = ffmi;
        document.getElementById('log-ffmi-cat').innerText = ffmiCat;
        document.getElementById('log-protein').innerHTML = weight ? `${proteinDisplay}<span class="text-sm ml-1">G</span>` : '--';
        document.getElementById('log-tdee').innerText = tdeeDisplay;

        // Dynamic Summary
        if(vo2 !== '--' && ffmi !== '--') {
            document.getElementById('systemic-summary').innerText = "Data signals a completed profile. Your cardiovascular and structural baselines are locked. Focus on maintaining your 'Elite Reserve' status through the current training cycle.";
        }
    }

    function clearLogs() {
        if(confirm("Permanently wipe all performance data?")) {
            localStorage.clear();
            location.reload();
        }
    }
</script>
</body>
</html>
