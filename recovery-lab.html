<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRV & Readiness Lab | Academic Athlete Lab</title>
    <meta name="description" content="Calculate your recovery readiness score. Specialized HRV and sleep diagnostic for athletes 50+ to optimize training load and prevent overreaching.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@400;700;900&display=swap');
        body { background-color: #050505; color: #fff; font-family: 'Space Mono', monospace; -webkit-font-smoothing: antialiased; }
        .font-inter { font-family: 'Inter', sans-serif; }
        .safety-teal { color: #2dd4bf; }
        .bg-teal { background-color: #2dd4bf; }
        .glass-card { background: #111; border: 1px solid #222; }
        .input-field { background: #000; border: 1px solid #333; color: #2dd4bf; outline: none; transition: all 0.2s; font-size: 1.1rem; width: 100%; padding: 1rem; border-radius: 0.75rem; }
        .input-field:focus { border-color: #2dd4bf; background: #0a0a0a; }
        .nav-link { font-size: 10px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.2em; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col" onload="initPage()">

<header class="p-6 border-b border-neutral-900 bg-black">
    <div class="max-w-6xl mx-auto flex justify-between items-center text-left">
        <a href="index.html" class="text-xl font-black tracking-tighter safety-teal italic uppercase font-inter">ACADEMIC<span class="text-white">ATHLETE</span>LAB</a>
        <div class="hidden md:block">
            <span class="text-[9px] text-neutral-600 uppercase tracking-widest font-bold font-mono">Module: Neural_Restoration_v5.1</span>
        </div>
    </div>
</header>

<nav class="bg-black border-b border-neutral-900 py-4 px-6 sticky top-0 z-[100] backdrop-blur-md bg-black/80 overflow-x-auto no-scrollbar">
    <div class="max-w-6xl mx-auto flex gap-6 md:gap-8 whitespace-nowrap items-center font-mono text-[10px]">
        <a href="index.html" class="nav-link text-neutral-500 hover:text-white transition-colors">Lab Home</a>
        <a href="1rm-lab.html" class="nav-link safety-yellow border-b border-yellow-500 pb-1">1RM</a>
        <a href="ffmi-lab.html" class="nav-link text-neutral-500 hover:text-white">FFMI</a>
        <a href="smi-lab.html" class="nav-link text-neutral-500 hover:text-white">SMI</a>
        <a href="grip-lab.html" class="nav-link text-neutral-500 hover:text-white">Grip</a>
        <a href="vo2-lab.html" class="nav-link text-neutral-500 hover:text-white">VO2 Max</a>
        <a href="max-hr.html" class="nav-link text-neutral-500 hover:text-white">Max HR</a>
        <a href="bio-age.html" class="nav-link text-neutral-500 hover:text-white">Bio-Age</a>
        <a href="functional-age.html" class="nav-link text-neutral-500 hover:text-white">Func-Age</a>
        <a href="insulin-lab.html" class="nav-link text-neutral-500 hover:text-white">Insulin</a>
        <a href="metabolic-lab.html" class="nav-link text-neutral-500 hover:text-white">Metabolic</a>
        <a href="protein-lab.html" class="nav-link text-neutral-500 hover:text-white">Protein</a>
        <a href="hydration-lab.html" class="nav-link text-neutral-500 hover:text-white">Hydration</a>
        <a href="mobility-lab.html" class="nav-link text-neutral-500 hover:text-white">Mobility</a>
        <a href="recovery-lab.html" class="nav-link text-neutral-500 hover:text-white">Recovery</a>
        <a href="athlete-lab.html" class="nav-link text-purple-500 border-l border-neutral-800 pl-6 italic font-bold">The Streak Lab</a>
    </div>
</nav>

<main class="max-w-5xl mx-auto p-6 md:p-12 w-full font-inter">
    <header class="mb-12 text-left">
        <div class="inline-block bg-teal-500 text-black px-4 py-1 font-black italic text-sm uppercase mb-4 tracking-tighter">Diagnostic: Autonomic Balance</div>
        <h2 class="text-5xl md:text-7xl font-black italic uppercase tracking-tighter mb-4 leading-none">Readiness<br>Analysis</h2>
        <p class="text-neutral-500 max-w-xl italic leading-relaxed text-sm font-inter">Quantifying CNS supercompensation. For athletes 50+, the recovery window is the only period where actual performance gains are realized.</p>
    </header>

    <div class="grid lg:grid-cols-2 gap-10 items-start text-left">
        <section class="glass-card p-8 rounded-3xl border-l-4 border-teal-500">
            <h3 class="text-xs font-bold uppercase safety-teal mb-6 tracking-widest font-mono italic">Autonomic Inputs</h3>
            <div class="space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-[10px] uppercase text-neutral-500 font-bold mb-2 font-mono">Today's HRV (ms)</label>
                        <input type="number" id="hrv" placeholder="65" oninput="calculateReadiness()" class="input-field font-mono text-2xl">
                    </div>
                    <div>
                        <label class="block text-[10px] uppercase text-neutral-500 font-bold mb-2 font-mono italic">7-Day Baseline</label>
                        <input type="number" id="hrv-base" placeholder="60" oninput="calculateReadiness()" class="input-field font-mono text-2xl">
                    </div>
                </div>
                <div>
                    <label class="block text-[10px] uppercase text-neutral-500 font-bold mb-2 font-mono">Sleep Duration (Hours)</label>
                    <input type="number" id="sleep" step="0.1" placeholder="7.5" oninput="calculateReadiness()" class="input-field font-mono text-2xl">
                </div>
            </div>
            <div class="mt-8">
                <button onclick="calculateReadiness()" class="w-full py-4 bg-white text-black font-black italic uppercase text-[10px] rounded-xl hover:bg-teal-500 hover:text-white transition-all tracking-widest font-inter">
                    Generate Readiness Score
                </button>
            </div>
        </section>

        <section class="glass-card p-8 rounded-3xl flex flex-col justify-center min-h-[450px] relative overflow-hidden">
            <div id="result-display" class="hidden relative z-10">
                <span class="text-[10px] font-bold uppercase text-teal-500 tracking-[0.3em] font-mono italic text-left block">Readiness Status</span>
                <div class="text-7xl md:text-8xl font-black text-white italic tracking-tighter mb-4 leading-none uppercase" id="readiness-val">--</div>
                
                <div class="p-6 bg-teal-500/5 border border-teal-500/20 rounded-2xl">
                    <p class="text-[9px] font-bold text-teal-400 uppercase mb-2 tracking-widest italic text-left underline font-mono">Training Prescription:</p>
                    <p id="recovery-comment" class="text-xs italic text-neutral-400 leading-relaxed font-inter"></p>
                </div>
                
                <div class="mt-8 pt-8 border-t border-neutral-900">
                    <a href="athlete-lab.html" class="block w-full text-center bg-teal-500 text-black font-black py-4 rounded-xl uppercase text-[10px] tracking-widest hover:bg-white transition-all italic font-inter">Commit to Streak Lab →</a>
                </div>
            </div>
            <div id="idle-display" class="text-neutral-700 italic text-center uppercase text-[10px] tracking-widest font-mono px-12 leading-loose">
                [ Awaiting autonomic and sleep metrics for neural restoration analysis ]
            </div>
            <div class="absolute -right-8 -bottom-8 text-9xl font-black text-white/[0.02] italic pointer-events-none select-none uppercase">Recover</div>
        </section>
    </div>

    <section class="mt-20 border-t border-neutral-900 pt-16 text-left">
        <h3 class="text-2xl font-black italic uppercase mb-8 safety-teal tracking-tighter font-inter">Research Protocol: Neural Restoration</h3>
        
        

        <div class="grid md:grid-cols-2 gap-12 text-neutral-400 text-sm leading-relaxed">
            <div class="space-y-6 font-inter">
                <h4 class="text-white font-bold uppercase text-xs tracking-widest font-mono">The HRV Baseline Shift</h4>
                <p>Heart Rate Variability (HRV) is the primary non-invasive marker for the <strong>Autonomic Nervous System</strong>. For the 50+ athlete, we prioritize the stability of the baseline over the raw number. A significant drop in HRV (rMSSD) indicates sympathetic dominance, signaling that your CNS is still processing the previous training load.</p>
            </div>
            <div class="space-y-6 font-inter">
                <h4 class="text-white font-bold uppercase text-xs tracking-widest font-mono">Anabolic Sleep Windows</h4>
                <p>Sleep architecture shifts as we age, often reducing Deep SWS sleep. For the masters athlete, sleep is the only phase where growth hormone release facilitates muscle repair. Falling below 7 hours creates a <strong>recovery debt</strong> that increases injury risk and suppresses the immune response.</p>
            </div>
        </div>
    </section>

    <section class="mt-12 p-6 bg-neutral-900/30 border border-neutral-800 rounded-2xl text-left font-mono">
        <p class="text-[10px] text-neutral-500 leading-relaxed italic">
            <span class="text-neutral-300 font-bold uppercase tracking-widest block mb-2 underline font-inter">Diagnostic Disclaimer:</span>
            Recovery scores are physiological proxies. Correlate these results with perceived exertion (RPE) and morning mood. If you experience chronic fatigue or heart palpitations, consult a physician for overtraining assessment.
        </p>
    </section>
</main>

<footer class="p-12 border-t border-neutral-900 mt-20 bg-black text-center font-mono text-[9px] text-neutral-600 uppercase tracking-[0.3em]">
    Academic Athlete Lab © 2026 | Protocol: Neural_Restoration_v5.1
</footer>

<script>
    function initPage() {
        const savedHRV = localStorage.getItem('athleteHRV');
        const savedBase = localStorage.getItem('athleteHRVBase');
        const savedSleep = localStorage.getItem('athleteSleep');
        
        if(savedHRV) document.getElementById('hrv').value = savedHRV;
        if(savedBase) document.getElementById('hrv-base').value = savedBase;
        if(savedSleep) document.getElementById('sleep').value = savedSleep;
        
        if(savedHRV && savedBase && savedSleep) calculateReadiness();
    }

    function calculateReadiness() {
        const hrv = parseFloat(document.getElementById('hrv').value);
        const base = parseFloat(document.getElementById('hrv-base').value);
        const sleep = parseFloat(document.getElementById('sleep').value);

        if(!hrv || !base || !sleep) {
            document.getElementById('result-display').classList.add('hidden');
            document.getElementById('idle-display').classList.remove('hidden');
            return;
        }

        const hrvRatio = hrv / base;
        let readiness = "";
        let comment = "";

        if (hrvRatio >= 1.05 && sleep >= 7.5) {
            readiness = "Prime";
            comment = "CNS is fully supercompensated. Optimal window for Maximum Intensity or 1RM testing. Push the ceiling today.";
        } else if (hrvRatio >= 0.9 && sleep >= 7) {
            readiness = "Functional";
            comment = "Autonomic balance is stable. Suitable for standard volume hypertrophy or Zone 2 endurance work.";
        } else if (hrvRatio >= 0.8 || sleep >= 6) {
            readiness = "Compromised";
            comment = "Parasympathetic suppression detected. Recommend a deload session. Limit RPE to 6/10 and focus on technique.";
        } else {
            readiness = "Critical";
            comment = "Systemic stress detected. High injury risk. Priority: Active recovery, inflammatory management, or total rest.";
        }

        document.getElementById('idle-display').classList.add('hidden');
        document.getElementById('result-display').classList.remove('hidden');
        document.getElementById('readiness-val').innerText = readiness;
        document.getElementById('recovery-comment').innerText = comment;
        
        localStorage.setItem('athleteHRV', hrv);
        localStorage.setItem('athleteHRVBase', base);
        localStorage.setItem('athleteSleep', sleep);
        localStorage.setItem('athleteReadiness', readiness);
    }
</script>
</body>
</html>
